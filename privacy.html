<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Noorly - Privacy Policy</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f8f9fa;
        }
        .container {
            background: white;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #000000;
            text-align: center;
            margin-bottom: 10px;
            font-size: 2.2em;
            text-transform: uppercase;
        }
        .date {
            text-align: center;
            color: #666;
            font-size: 0.9em;
            margin-bottom: 30px;
        }
        h2 {
            color: #000000;
            margin-top: 30px;
            margin-bottom: 15px;
            text-transform: uppercase;
            font-weight: bold;
        }
        h3 {
            color: #000000;
            margin-top: 20px;
            margin-bottom: 10px;
            font-weight: bold;
        }
        h4 {
            color: #000000;
            margin-top: 15px;
            margin-bottom: 8px;
            font-weight: bold;
        }
        .highlight {
            background-color: #f0fbfc;
            padding: 15px;
            border-left: 4px solid #86D3D9;
            margin: 20px 0;
            font-weight: bold;
            color: #000000;
        }
        .important {
            background-color: #f0fbfc;
            padding: 15px;
            border-left: 4px solid #86D3D9;
            margin: 20px 0;
            font-weight: bold;
            color: #000000;
        }
        ul {
            padding-left: 20px;
        }
        li {
            margin-bottom: 5px;
        }
        .contact-info {
            background-color: #f1f8ff;
            padding: 20px;
            border-radius: 8px;
            margin-top: 30px;
            text-align: center;
        }
        .external-link {
            color: #007AFF;
            text-decoration: underline;
            cursor: pointer;
        }
        .external-link:hover {
            opacity: 0.7;
        }
        .sdk-disclosure {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border: 1px solid #dee2e6;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>PRIVACY POLICY</h1>
        <p class="date">Last updated: September 30, 2025</p>

        <p>This Privacy Policy describes our policies and procedures on the collection, use and disclosure of your information when you use the Noorly application and tells you about your privacy rights and how the law protects you.</p>

        <div class="important">
            NOORLY IS DESIGNED WITH PRIVACY AS A FUNDAMENTAL PRINCIPLE. WE DO NOT COLLECT, STORE, TRANSMIT, OR PROCESS ANY PERSONAL DATA WHATSOEVER. BY USING NOORLY, YOU AGREE TO THE INFORMATION PRACTICES DESCRIBED IN THIS PRIVACY POLICY.
        </div>

        <h2>INTERPRETATION AND DEFINITIONS</h2>
        
        <h3>Interpretation</h3>
        <p>The words of which the initial letter is capitalized have meanings defined under the following conditions. The following definitions shall have the same meaning regardless of whether they appear in singular or in plural.</p>

        <h3>Definitions</h3>
        <p>For the purposes of this Privacy Policy:</p>
        <ul>
            <li><strong>"Application"</strong> means the Noorly mobile application provided by us</li>
            <li><strong>"Company"</strong> (referred to as either "the Company", "we", "us" or "our") refers to Hodan Mohamed Ahmed</li>
            <li><strong>"Device"</strong> means any device that can access the Application such as a smartphone, tablet, or computer</li>
            <li><strong>"Personal Data"</strong> is any information that relates to an identified or identifiable individual</li>
            <li><strong>"Service"</strong> refers to the Application</li>
            <li><strong>"Usage Data"</strong> refers to data collected automatically, either generated by the use of the Service or from the Service infrastructure itself</li>
            <li><strong>"You"</strong> means the individual accessing or using the Service</li>
        </ul>

        <h2>DATA COLLECTION DECLARATION - REQUIRED BY APPLE</h2>
        <div class="important">
            <p><strong>CLEAR DECLARATION OF DATA PRACTICES:</strong></p>
            <p>Noorly collects NO data from users. This app operates entirely locally on your device without any data transmission to external servers. Below is our complete data disclosure as required by Apple App Store guidelines:</p>
        </div>

        <h2>COLLECTING AND USING YOUR PERSONAL DATA</h2>
        
        <h3>Types of Data Collected</h3>
        
        <h4>Personal Data</h4>
        <div class="highlight">
            <p><strong>Noorly does NOT collect any personally identifiable information.</strong> We do not ask for, collect, store, or process:</p>
            <ul>
                <li>Email address</li>
                <li>First name and last name</li>
                <li>Phone number</li>
                <li>Address, State, Province, ZIP/Postal code, City</li>
                <li>Any other personally identifiable information</li>
            </ul>
        </div>

        <h4>Usage Data</h4>
        <div class="highlight">
            <p><strong>Noorly does NOT collect Usage Data.</strong> We do not collect:</p>
            <ul>
                <li>Your Device's Internet Protocol address (IP address)</li>
                <li>Browser type or version information</li>
                <li>Pages of our Service that you visit</li>
                <li>Time and date of your visit</li>
                <li>Time spent on pages</li>
                <li>Unique device identifiers</li>
                <li>Any diagnostic data</li>
            </ul>
        </div>

        <h4>Information Collected while Using the Application</h4>
        <div class="highlight">
            <p><strong>Noorly does NOT collect any information while you use the Application.</strong> We do not request or collect:</p>
            <ul>
                <li>Information regarding your location</li>
                <li>Access to your camera or photo library</li>
                <li>Access to your contacts</li>
                <li>Access to your microphone</li>
                <li>Any other device permissions beyond basic app functionality</li>
            </ul>
        </div>

        <h3>Local Data Storage Only</h3>
        <p>The application processes data exclusively on your local device. Progress tracking for Sunnah completion, theme preferences (light or dark mode), and onboarding status are stored locally using AsyncStorage, while basic app preferences remain on your device without external transmission. The app does not synchronize data to external servers or cloud services. You maintain complete control over this local data and can reset or delete all information by uninstalling the application.</p>

        <h2>THIRD-PARTY DATA SHARING - APPLE REQUIREMENT</h2>
        <p><strong>We do not share user data with any third parties because we do not collect any user data.</strong> This includes:</p>
        <ul>
            <li>No analytics tools process user data</li>
            <li>No advertising networks have access to user data</li>
            <li>No third-party SDKs collect or process user data</li>
            <li>No parent, subsidiary, or related entities have access to user data</li>
        </ul>
        <p>As required by Apple guidelines, any third party that would have access to user data would provide the same protection as stated in this policy. Since we collect no data, this requirement is satisfied by design.</p>

        <h2>DATA RETENTION AND DELETION - APPLE REQUIREMENT</h2>
        <p><strong>Data Retention Policy:</strong> Since we do not collect any personal data, we have no data to retain on our servers.</p>
        <p><strong>Data Deletion:</strong> The only data associated with Noorly (local progress, theme preferences, and onboarding status) exists solely on your device and can be deleted by:</p>
        <ul>
            <li>Uninstalling the Noorly app</li>
            <li>Using your device's app data clearing features</li>
            <li>Resetting your device</li>
        </ul>
        <p><strong>Revoking Consent:</strong> Since no data is collected or transmitted, there is no consent to revoke regarding data collection. You maintain complete control over any local data on your device.</p>

        <h2>USE OF YOUR PERSONAL DATA</h2>
        <p><strong>Since we do not collect any Personal Data, this section does not apply to Noorly.</strong> We cannot use, share, or process data that we do not collect.</p>

        <h2>TRANSFER OF YOUR PERSONAL DATA</h2>
        <p><strong>Since we do not collect any Personal Data, there are no data transfers.</strong> No information is transmitted from your device to our servers or any third-party services.</p>

        <h2>DISCLOSURE OF YOUR PERSONAL DATA</h2>
        
        <h3>Business Transactions</h3>
        <p>Since we do not collect Personal Data, there is no Personal Data that could be transferred in the event of a merger, acquisition, or asset sale.</p>

        <h3>Law Enforcement</h3>
        <p>Since we do not collect any Personal Data, we have no Personal Data to disclose to law enforcement or public authorities, even if required by law.</p>

        <h3>Other Legal Requirements</h3>
        <p>Since we do not collect Personal Data, we have no Personal Data to disclose for legal compliance, protection of rights, or any other legal requirements.</p>

        <h2>SECURITY OF YOUR PERSONAL DATA</h2>
        <p>While we do not collect any Personal Data, we have designed Noorly with security principles in mind:</p>
        <ul>
            <li>The app operates without network connections for data collection</li>
            <li>Local data storage uses your device's built-in security measures</li>
            <li>No personal information is at risk since none is collected</li>
            <li>The app requests minimal device permissions</li>
        </ul>

        <h2>DETAILED INFORMATION ON THE PROCESSING OF YOUR PERSONAL DATA</h2>
        <p><strong>We do not use any Service Providers that process Personal Data since we do not collect any Personal Data.</strong></p>

        <h2>COMPREHENSIVE THIRD-PARTY SDK AND SERVICE DISCLOSURE</h2>
        <div class="sdk-disclosure">
            <p><strong>Complete Third-Party Disclosure - Required by Apple:</strong></p>
            <p>In compliance with Apple App Store guidelines, below is a comprehensive list of all third-party SDKs, frameworks, and services integrated into or used by the Noorly app, including their data collection practices:</p>
            
            <h3>Core Development Framework</h3>
            
            <h4>Expo Framework</h4>
            <p>The application is built using the Expo development framework (version 51.0.28), which provides comprehensive cross-platform mobile development capabilities. Expo and its associated plugins operate entirely within the local device environment:</p>
            <ul>
                <li><strong>expo-asset:</strong> Manages local asset loading and caching on the device</li>
                <li><strong>expo-font:</strong> Handles font loading and management locally</li>
                <li><strong>expo-status-bar:</strong> Integrates with device status bar for UI consistency</li>
                <li><strong>@expo/vector-icons:</strong> Provides icon library for user interface elements</li>
            </ul>
            <p>All Expo components process data locally without external data collection or transmission. The framework supports iOS, Android, and web platforms as configured in our app.json.</p>

            <h4>React Native Framework</h4>
            <ul>
                <li><strong>Purpose:</strong> Core app development framework</li>
                <li><strong>Data Collection:</strong> No data collection - runs locally on device</li>
                <li><strong>Data Sharing:</strong> No data sharing occurs</li>
                <li><strong>Privacy Protection:</strong> All processing occurs locally on user's device</li>
            </ul>

            <h3>Navigation and UI Libraries</h3>

            <h4>React Navigation (@react-navigation/*)</h4>
            <p>The React Navigation library manages in-app navigation between screens and user interface transitions. The application uses:</p>
            <ul>
                <li><strong>@react-navigation/native:</strong> Core navigation functionality</li>
                <li><strong>@react-navigation/stack:</strong> Stack-based screen navigation</li>
                <li><strong>Data Collection:</strong> No external data collection - navigation state local only</li>
                <li><strong>Data Sharing:</strong> No data sharing - no external navigation or deep linking</li>
                <li><strong>Privacy Protection:</strong> Navigation occurs entirely within the app</li>
            </ul>

            <h4>React Native Gesture Handler</h4>
            <p>Provides touch gesture recognition and handling for interactive UI elements. All gesture processing occurs locally on the device without any data collection or external transmission.</p>

            <h4>React Native Safe Area Context</h4>
            <p>Manages safe area boundaries for device-specific layouts (notches, rounded corners, etc.). Operates entirely locally without data collection.</p>

            <h4>React Native Screens</h4>
            <p>Optimizes screen navigation performance through native screen management. All operations occur locally without external data transmission.</p>

            <h4>React Native SVG</h4>
            <p>Enables SVG graphics rendering for icons and visual elements within the application. All rendering occurs locally on the device.</p>

            <h3>Local Storage</h3>

            <h4>AsyncStorage (React Native)</h4>
            <ul>
                <li><strong>Purpose:</strong> Local data storage for user progress, theme preferences, and onboarding status</li>
                <li><strong>Data Collection:</strong> No external data collection - stores data locally only</li>
                <li><strong>Data Sharing:</strong> No data sharing - data remains on user's device</li>
                <li><strong>Privacy Protection:</strong> Data is encrypted using device-level security, never transmitted</li>
            </ul>

            <h3>Platform APIs</h3>

            <h4>iOS/Android System APIs</h4>
            <p>The application utilizes essential iOS and Android system APIs solely to provide core app functionality, including display management, local storage operations, and basic system integration. These APIs are limited to:</p>
            <ul>
                <li><strong>Dimensions.get('window'):</strong> Screen size detection for UI layout</li>
                <li><strong>View, Text, TouchableOpacity, Modal, ScrollView, FlatList:</strong> Basic UI rendering</li>
                <li><strong>Platform.OS & Platform.Version:</strong> Device info for debugging in feedback emails only</li>
                <li><strong>Linking.openURL():</strong> Email app integration for feedback</li>
                <li><strong>Clipboard.setString():</strong> User-initiated copy to clipboard</li>
                <li><strong>Alert.alert():</strong> Native system alerts</li>
            </ul>
            <p>These APIs operate strictly within the local environment of the device, require only essential system permissions, and do not involve any external data collection or data sharing.</p>

            <h3>Device Permissions</h3>
            <p><strong>Permissions NOT Requested:</strong></p>
            <ul>
                <li>Camera access</li>
                <li>Microphone access</li>
                <li>Location services</li>
                <li>Contacts access</li>
                <li>Push notification capabilities</li>
                <li>File system access beyond app sandbox</li>
                <li>Network permissions beyond basic internet for email</li>
            </ul>
            <p><strong>Default Permissions Only:</strong></p>
            <ul>
                <li>Basic app installation privileges</li>
                <li>Local storage access for user data management (AsyncStorage)</li>
                <li>System UI rendering capabilities</li>
            </ul>

            <h3>Email Integration (Device Native)</h3>
            <ul>
                <li><strong>Purpose:</strong> Feedback system using device's default email app</li>
                <li><strong>Data Collection:</strong> No data collection by Noorly - uses user's email app</li>
                <li><strong>Data Sharing:</strong> User voluntarily sends feedback via their own email</li>
                <li><strong>Privacy Protection:</strong> User controls all email communication</li>
                <li><strong>Debug Information:</strong> Platform.OS/Version included in feedback emails for technical support only</li>
            </ul>

            <h3>Excluded Technologies</h3>

            <h4>No Analytics SDKs</h4>
            <p><strong>Noorly explicitly does NOT use:</strong></p>
            <ul>
                <li>Google Analytics or Firebase Analytics</li>
                <li>Facebook/Meta Analytics</li>
                <li>Crashlytics or crash reporting services</li>
                <li>User behavior tracking services</li>
                <li>Performance monitoring services that collect user data</li>
                <li>A/B testing frameworks</li>
                <li>Cloud synchronization services</li>
            </ul>

            <h4>No Advertising SDKs</h4>
            <p><strong>Noorly explicitly does NOT use:</strong></p>
            <ul>
                <li>Google AdMob</li>
                <li>Facebook Audience Network</li>
                <li>Any advertising networks or SDKs</li>
                <li>Attribution tracking SDKs</li>
                <li>Marketing automation tools</li>
            </ul>

            <h4>No Social Media SDKs</h4>
            <p><strong>Noorly explicitly does NOT use:</strong></p>
            <ul>
                <li>Facebook SDK</li>
                <li>Twitter SDK</li>
                <li>Social sharing frameworks</li>
                <li>Social login services</li>
            </ul>

            <h4>No Cloud Services</h4>
            <p><strong>The application does not integrate with any cloud-based services:</strong></p>
            <ul>
                <li>No backend database services</li>
                <li>No cloud storage (AWS, Google Cloud, Azure, etc.)</li>
                <li>No authentication services</li>
                <li>No push notification services</li>
                <li>No remote configuration services</li>
            </ul>

            <h3>No External API Calls</h3>
            <p><strong>Network Usage:</strong></p>
            <ul>
                <li>No external API calls to remote servers</li>
                <li>No cloud services integration</li>
                <li>No data synchronization services</li>
                <li>Email integration uses device's native email app only</li>
            </ul>

            <p><strong>Privacy Commitment:</strong> Future integration of third-party SDKs or services will require complete disclosure in privacy policy documentation with full transparency regarding data collection practices. We commit to maintaining our no-data-collection approach and will only use technologies that align with our privacy-by-design principles.</p>
        </div>

        <h3>Analytics</h3>
        <p><strong>We do NOT use any third-party analytics services.</strong> We do not use:</p>
        <ul>
            <li>Google Analytics</li>
            <li>Firebase Analytics</li>
            <li>Facebook Analytics</li>
            <li>Any other analytics or monitoring services</li>
        </ul>

        <h3>Email Marketing</h3>
        <p><strong>We do NOT engage in email marketing.</strong> We do not:</p>
        <ul>
            <li>Collect email addresses</li>
            <li>Send newsletters or promotional materials</li>
            <li>Use any email marketing services</li>
        </ul>

        <h3>Feedback System</h3>
        <p>The application's feedback functionality operates through integration with the user's device native email application, automatically launching the default email client such as Gmail or Mail when feedback submission is initiated. Users compose and transmit feedback messages using their personal email applications, with all communication occurring through standard email correspondence rather than direct data collection by the Noorly application. The feedback process represents normal email communication between users and developers, maintaining complete user control over message content and transmission timing.</p>

        <h2>TRACKING AND ADVERTISING - APPLE ATT COMPLIANCE</h2>
        <p>Noorly maintains strict compliance with Apple's App Tracking Transparency requirements through complete elimination of cross-app and cross-website user tracking mechanisms. The application architecture specifically excludes:</p>
        <ul>
            <li>Linking user data from Noorly with information from other applications or websites</li>
            <li>Accessing device advertising identifiers including IDFA</li>
            <li>Sharing data with advertising networks or data brokers</li>
            <li>Implementing App Tracking Transparency framework components since no tracking activities occur within the application environment</li>
        </ul>
        <p>The system operates without targeted advertising capabilities or advertising measurement functionalities, ensuring complete user privacy protection through comprehensive tracking prevention measures.</p>

        <h2>CHILDREN'S PRIVACY</h2>
        <p><strong>Age Requirements and Parental Consent:</strong> This Application is intended for users who are thirteen (13) years of age or older. Users under the age of thirteen (13) may only access and use this Application with the express written consent of a parent or legal guardian and under their direct, ongoing supervision.</p>
        
        <p>Given that our Application does not collect, store, or process any personally identifiable information from users of any age, including children under thirteen (13), there are no heightened privacy risks associated with supervised use by minors. However, parental oversight remains required for users under thirteen (13) to ensure appropriate usage and compliance with applicable children's privacy regulations.</p>

        <p>Parents and legal guardians may permit supervised use of this Application with confidence, understanding that:</p>
        <ul>
            <li>No personal information is collected from any user, regardless of age</li>
            <li>No user account registration or personal data submission is required</li>
            <li>All data processing occurs locally on the user's device without external transmission</li>
            <li>All educational content has been curated to be appropriate for users of all ages</li>
            <li>Parental supervision ensures compliance with our age requirements and appropriate usage patterns</li>
        </ul>
        
        <p><strong>Children's Online Privacy Protection Act (COPPA) Compliance:</strong> This Application complies with the Children's Online Privacy Protection Act (COPPA) and applicable children's privacy regulations by implementing a privacy-by-design approach that eliminates the collection of personal information from users of any age. For users under thirteen (13) years of age, express parental consent and ongoing supervision are mandatory prerequisites for access to and use of this Application.</p>

        <h2>LINKS TO OTHER WEBSITES</h2>

        <h3>EXTERNAL LINKS AND THIRD-PARTY CONTENT</h3>
        <p><strong>Controlled Content Hosting:</strong> This Application includes hyperlinks to our Terms of Service and Privacy Policy, which are hosted on GitHub Pages under our direct ownership and control. These linked documents contain identical content to that presented within the Application and are provided to enhance user accessibility and convenience in reviewing our legal documentation.</p>

        <p><strong>Email Communication Protocol:</strong> The Application facilitates user-initiated contact through a mailto: protocol implementation that interfaces with the user's native email client application. This functionality does not constitute external website linking and does not involve data transmission to third-party servers by our Application. When users elect to send feedback via email, any data collection or processing is governed entirely by the user's designated email service provider (such as Gmail, Outlook, Apple Mail, or other email services). We, as the Application developer, do not collect, store, or process any personal information through this email mechanism. The user's email service provider may collect and process email communications according to their own privacy policies, over which we have no control or influence.</p>

        <p><strong>Email Service Provider Data Practices:</strong> We do not have access to, control over, or responsibility for the data collection practices of email service providers such as Gmail, Yahoo Mail, Outlook, or other email platforms that users may employ to contact us. Users should consult their email service provider's privacy policy to understand how their email communications are handled, stored, and processed by those third-party services.</p>

        <p><strong>Third-Party Content Disclaimer:</strong> This Application does not incorporate links to third-party websites, external services, or content repositories outside of our direct administrative control. We maintain comprehensive editorial and technical responsibility for all content hosted on our GitHub Pages infrastructure.</p>

        <p><strong>Contact for Link-Related Inquiries:</strong> Users requiring clarification regarding any hyperlinks or external references within this Application may direct their inquiries to noorlyappfeedback@gmail.com for prompt resolution and assistance.</p>

        <h2>INTERNATIONAL DATA TRANSFERS</h2>
        <p>Since Noorly does not collect, store, or transmit any personal data, there are no international data transfers. All app functionality occurs locally on your device regardless of your geographic location.</p>

        <h2>YOUR PRIVACY RIGHTS</h2>
        <p>While various international and domestic privacy regulations confer specific rights upon individuals regarding the collection, processing, and handling of their personal data, such rights are not applicable to this Application given our fundamental design principle of not collecting any personal data whatsoever. Notwithstanding the inapplicability of traditional data subject rights, users retain comprehensive autonomy and control over any locally stored information through several mechanisms:</p>
        <ul>
            <li>Users may access and review their progress tracking, theme settings, and onboarding status directly within the Application interface</li>
            <li>Complete data deletion may be accomplished through standard application uninstallation procedures, which removes all locally stored information from the device</li>
            <li>Individual progress entries may be modified or deleted through the Application's interface on a per-item basis</li>
            <li>Theme preferences may be adjusted at the user's discretion</li>
            <li>Data portability concerns are inherently satisfied as all information exists exclusively on the user's device under their direct control without external synchronization or cloud storage dependencies</li>
            <li>Users maintain complete discretion over their local data environment without requiring external intervention or data processing by our organization</li>
        </ul>

        <h2>CHANGES TO THIS PRIVACY POLICY</h2>
        <p>We may update our Privacy Policy from time to time. If we make any changes, we will:</p>
        <ul>
            <li>Post the new Privacy Policy on this page</li>
            <li>Update the "Last updated" date at the top of this Privacy Policy</li>
            <li>Follow Apple's requirements for notifying users of privacy policy changes</li>
        </ul>
        <p>You are advised to review this Privacy Policy regularly to stay informed of any updates. Continued use of the app after changes have been posted will constitute your acceptance of the updated Privacy Policy.</p>

        <h2>LEGAL BASIS FOR PROCESSING (GDPR COMPLIANCE)</h2>
        <p>Under the General Data Protection Regulation (GDPR) and other privacy laws, this section would typically explain the legal basis for processing personal data. Since Noorly does not process any personal data, no legal basis is required. This privacy-by-design approach ensures compliance with global privacy regulations.</p>

        <div class="contact-info">
            <h2>CONTACT US</h2>
            <p>For questions about this Privacy Policy, please contact us at:</p>
            <p><strong>Email:</strong> <span class="external-link" onclick="openExternalLink('mailto:noorlyappfeedback@gmail.com')">noorlyappfeedback@gmail.com</span></p>
        </div>

        <hr style="margin-top: 40px; border: none; border-top: 1px solid #eee;">
        <p style="text-align: center; color: #666; font-size: 0.9em; margin-top: 20px;">
            Â© 2025 Noorly. All rights reserved.
        </p>
    </div>

    <script>
        /**
         * Safari View Controller Integration for Privacy Policy Links
         * This function handles opening external URLs using SFSafariViewController
         * when the webpage is loaded within an iOS app
         */
        function openExternalLink(url) {
            // Check if we're running inside an iOS WebView/WKWebView
            if (window.webkit && window.webkit.messageHandlers && window.webkit.messageHandlers.safariViewController) {
                // Send message to iOS app to open URL in Safari View Controller
                try {
                    window.webkit.messageHandlers.safariViewController.postMessage({
                        action: 'openURL',
                        url: url
                    });
                } catch (error) {
                    console.log('Error posting message to Safari View Controller:', error);
                    // Fallback to regular window.open
                    fallbackOpenLink(url);
                }
            } else {
                // Fallback for non-iOS environments or when Safari View Controller is not available
                fallbackOpenLink(url);
            }
        }

        /**
         * Fallback function for opening links in regular browser
         */
        function fallbackOpenLink(url) {
            if (url.startsWith('mailto:')) {
                window.location.href = url;
            } else {
                window.open(url, '_blank', 'noopener,noreferrer');
            }
        }

        /**
         * Alternative method using custom URL scheme (if your app supports it)
         * This can be used alongside or instead of the webkit message handler
         */
        function openWithCustomScheme(url) {
            const customSchemeUrl = `noorly://safari?url=${encodeURIComponent(url)}`;
            
            // Try to open with custom scheme
            const iframe = document.createElement('iframe');
            iframe.style.display = 'none';
            iframe.src = customSchemeUrl;
            document.body.appendChild(iframe);
            
            // Clean up iframe after a short delay
            setTimeout(() => {
                document.body.removeChild(iframe);
            }, 1000);
            
            // Fallback if custom scheme doesn't work
            setTimeout(() => {
                fallbackOpenLink(url);
            }, 500);
        }

        // Event listener for handling all external links automatically
        document.addEventListener('DOMContentLoaded', function() {
            // Find all external links (you can modify this selector as needed)
            const externalLinks = document.querySelectorAll('a[href^="http"], a[href^="https"], a[href^="mailto:"]');
            
            externalLinks.forEach(link => {
                link.addEventListener('click', function(event) {
                    event.preventDefault();
                    const url = this.href;
                    openExternalLink(url);
                });
            });
        });

        /**
         * Optional: Function to check if Safari View Controller is available
         * You can use this to conditionally show different UI elements
         */
        function isSafariViewControllerAvailable() {
            return !!(window.webkit && window.webkit.messageHandlers && window.webkit.messageHandlers.safariViewController);
        }

        // Example usage of availability check
        if (isSafariViewControllerAvailable()) {
            console.log('Safari View Controller is available');
            // You could add special styling or functionality here
        } else {
            console.log('Safari View Controller not available, using fallback methods');
        }
    </script>
</body>
</html>
